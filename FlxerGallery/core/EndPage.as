package FlxerGallery.core {	import flash.display.Sprite;	import fl.transitions.easing.*;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.events.*;	import flash.net.URLRequest;	import flash.net.navigateToURL;	import FlxerGallery.main.Rett;	import FlxerGallery.main.DrawerFunc;	import FlxerGallery.componenti.FotoSlider;	import FlxerGallery.componenti.ButtonImg;	import FlxerGallery.comp.ButtonSelector;	public class EndPage extends Sprite {		//PARAMETRI		public var cnt		public var fondo		public var myW		public var myH		public var myHfooter = 104				public var myPadding = 4		public var myThumbSpacer = 4				public var myFunz				public var localXml		public var numVoci		//ELEMENTI		public var footerSprite;		public var parteAltaSprite;		public var btnRePlay		public var btnBuyNow		public var btnSendTo;						public function EndPage(xml, fnz) {			/*			this.myW = Preferences.pref.w;			this.myH = Preferences.pref.h-(Preferences.pref.testaH+Preferences.pref.piedeH+Preferences.pref.testaY);			*/			this.myW = 400			this.myH = 300						this.localXml = xml			this.myFunz = fnz						this.fondo = new Sprite();			DrawerFunc.drawer(fondo,0,0,myW,myH,Preferences.pref.playerBackground,null,.9);			this.addChild(this.fondo);						this.cnt = new Sprite();			this.addChild(this.cnt)									this.btnRePlay = new ButtonSelector(this.myPadding, this.myPadding, fnz, 1, "flv", this.localXml.childNodes[0].childNodes[0].childNodes[2].childNodes[0].toString(),Preferences.pref.lab[Preferences.pref.lng].playAgain);			//this.btnRePlay = new ButtonImg     (this.myPadding,this.myPadding,112,84,this.localXml.childNodes[0].childNodes[0].childNodes[2].childNodes[0],vaiUrl, null, Preferences.pref.lab[Preferences.pref.lng].playAgain, 1)			this.cnt.addChild(this.btnRePlay)						/**/			this.btnBuyNow  = new buttonBuy();			this.cnt.addChild(this.btnBuyNow);			btnBuyNow.avvia({noResize:true,fnz:buttonControl,param:this.localXml.childNodes[0].childNodes[0].childNodes[3].childNodes[0].childNodes[0].toString(),txt:Preferences.pref.lab[Preferences.pref.lng].buyNow,alt:Preferences.pref.lab[Preferences.pref.lng].buyNowAlt});			btnBuyNow.x = btnRePlay.x + 128 + this.myThumbSpacer			btnBuyNow.y = this.myPadding												this.btnSendTo  = new buttonSend()			this.cnt.addChild(this.btnSendTo)			btnSendTo.x = btnBuyNow.x + btnBuyNow.width + this.myThumbSpacer			btnSendTo.y = this.myPadding			btnSendTo.avvia({noResize:true,fnz:buttonControl,param:this.localXml.childNodes[0].childNodes[0].childNodes[3].childNodes[1].childNodes[0].toString(),txt:Preferences.pref.lab[Preferences.pref.lng].sendToFriends,alt:Preferences.pref.lab[Preferences.pref.lng].sendToFriendsAlt});						this.footerSprite = new FotoSlider(0,this.myH-this.myHfooter,this.myW,this.myHfooter,this.localXml.childNodes[0].childNodes[0].childNodes[3].childNodes[2],this.vaiUrl)			this.cnt.addChild(this.footerSprite);						this.resizza();		}		public function resizza() {			var h = Preferences.pref.h-(Preferences.pref.testaH+Preferences.pref.piedeH+Preferences.pref.testaY);			var w = Preferences.pref.w;			myX = this.cnt.x = ((w/2)-(this.myW/2));			myY = this.cnt.y = ((h/2)-(this.myH/2));			this.fondo.width = w;			this.fondo.height = h;			}		public function buttonControl(p) {			var localLink = p			trace(localLink)			this.vaiUrl(localLink)		}		public function vaiUrl(p) {			if(p==null){				this.myFunz()			}else{				navigateToURL(new URLRequest(p));			}		}	}}